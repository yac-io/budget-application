= form_with(model: [transaction.account, transaction], local: true) do |form|
  - if transaction.errors.any?
    #error_explanation
      %h2
        = pluralize(transaction.errors.count, "error")
        prohibited this transaction from being saved:
      %ul
        - transaction.errors.full_messages.each do |message|
          %li= message
  .field
    = form.label :payment_mean_id
    = form.collection_select(:payment_mean_id, transaction.account.payment_means.all, :id, :name)
  .field
    = form.label :category_id
    = form.collection_select(:category_id, current_user.categories.all.order('name ASC'), :id, :name, {include_blank: 'Select a category'})
  .field
    = form.label :name
    = form.text_field :name, id: :transaction_name
  .field
    = form.label :settlement_currency
    = form.text_field :settlement_currency, id: :transaction_settlement_currency
  .field
    = form.label :settlement_amount
    = form.text_field :settlement_amount, id: :transaction_settlement_amount
  .field
    = form.label :currency
    = form.text_field :currency, id: :transaction_currency
  .field
    = form.label :amount
    = form.text_field :amount, id: :transaction_amount
  .field
    = form.label :date
    = form.date_select :date, id: :transaction_date
  .actions
    = form.submit
